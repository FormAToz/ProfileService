# REST-—Å–µ—Ä–≤–∏—Å –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π


## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

–°–æ–∑–¥–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ–¥–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è


## –°—Ç—ç–∫

| **–û–ø–∏—Å–∞–Ω–∏–µ** | **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –≤–µ—Ä—Å–∏–∏** |
|---|----|
| **–í–µ—Ä—Å–∏—è JDK** | **11** |
| **–ü–æ—Ä—Ç** | **8010** |
| **–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π** | **git** |
| **Spring Boot** | **MVC, Data (2.3.2.RELEASE)** |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | **PostgreSQL (42.2.19)**|
| **–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** | **FlyWay (5.2.4)**|
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è REST web-API** | **Swagger (2.9.2)**|
| **–ü–ª–∞–≥–∏–Ω –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞** | **Lombok (1.18.20)**|
| **–°–±–æ—Ä—â–∏–∫ –ø—Ä–æ–µ–∫—Ç–∞** | **Maven**|


## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å 4 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
-  **```DB_NAME```** - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
-  **```DB_USER```** - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
-  **```DB_PASSWORD```** - –ø–∞—Ä–æ–ª—å –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
-  **```SECRET_TOKEN```** - —Ç–æ–∫–µ–Ω - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ—Ç–æ–¥–∞–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
      
–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ 2 —Å–ø–æ—Å–æ–±–∞–º–∏:
   1.  –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥–æ–π ```git clone https://github.com/FormAToz/ProfileService.git``` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–∞—Å—Ç—Ä–æ–∏–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
   2.  –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–∞–≥–∞–µ–º—ã–π jar-—Ñ–∞–π–ª (—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è) –∫–æ–º–∞–Ω–¥–æ–π ```java -DDB_NAME=<–∏–º—è_–±–¥> -DDB_USER=<–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–±–¥> -DDB_PASSWORD=<–ø–∞—Ä–æ–ª—å_–±–¥> -DSECRET_TOKEN=<—Ç–æ–∫–µ–Ω> -jar ProfileService-1.0.jar```


## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º /profiles –∏ /error –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ "Bearer <secret_token>">.
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å –æ—à–∏–±–æ—á–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç–∞—Ç—É—Å –∫–æ–¥ - 401 (Unauthorized).


## –î–æ—Å—Ç—É–ø –∫ REST API Swagger - 'GET http://localhost:8010'
–ú–µ—Ç–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è Swagger API: ```http://localhost:8010/swagger-ui.html```


## –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è - 'POST /profiles/set'
–ú–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
    "name": "User",
    "email": "mail@mail.ru",
    "age": 30
}
```

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**

–í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç id –∑–∞–ø–∏—Å–∏ –ø—Ä–æ—Ñ–∏–ª—è (—Å—Ç–∞—Ç—É—Å 200 –û–ö):
```json
{
    "idUser": 1
}
```

–í —Å–ª—É—á–∞–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ e-mail (—Å—Ç–∞—Ç—É—Å 400 BAD_REQUEST):
```json
{
    "msg": "error message"
}
```

–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ e-mail —É–∂–µ –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω (—Å—Ç–∞—Ç—É—Å 403 FORBIDDEN):
```json
{
    "msg": "error message"
}
```


## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è - 'GET /profiles/last'
–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**

(—Å—Ç–∞—Ç—É—Å 200 –û–ö)
```json
{
    "id": 1,
    "name": "User",
    "email": "mail@mail.ru",
    "age": 30,
    "created": "2021-04-12T15:24:35"
}
```


## –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π - 'GET /profiles'
–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**

(—Å—Ç–∞—Ç—É—Å 200 –û–ö)
```json
[
 {
     "id": 1,
     "name": "User",
     "email": "mail@mail.ru",
     "age": 30,
     "created": "2021-04-12T15:24:35"
 },
{...}
]
```


## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ id - 'GET /profiles/{id}'
–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ id

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**

(—Å—Ç–∞—Ç—É—Å 200 –û–ö)
```json
{
    "id": 1,
    "name": "User",
    "email": "mail@mail.ru",
    "age": 30,
    "created": "2021-04-12T15:24:35"
}
```

–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (—Å—Ç–∞—Ç—É—Å 404 NOT_FOUND):
```json
{
    "msg": "error message"
}
```


## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ e-mail - 'POST /profiles/get'
–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ e-mail

**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
    "email": "mail@mail.ru"
}
```

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**

(—Å—Ç–∞—Ç—É—Å 200 –û–ö)
```json
{
    "id": 1,
    "name": "User",
    "email": "mail@mail.ru",
    "age": 30,
    "created": "2021-04-12T15:24:35"
}
```

–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (—Å—Ç–∞—Ç—É—Å 404 NOT_FOUND):
```json
{
    "msg": "error message"
}
```


## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - 'GET /error/last'
–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**

(—Å—Ç–∞—Ç—É—Å 200 –û–ö)
```json
{
    "msg": "error message",
    "created": "2021-04-12T15:24:35"
}
```

## üåü –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - 'GET /exit'
–ú–µ—Ç–æ–¥ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–æ–≤—ã–≤–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É ```http://localhost:8010/exit-success```,
–≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ ```"–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω"``` –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.